"use strict";var sitesjs={requestAPI:function(a,i,o){var c=5;!function s(){return new Promise(function(t,e){var n=0,r=setTimeout(function(){0===n&&(n=2,r=null,e("请求超时"),0==c&&o())},5e3);fetch(a).then(function(e){if(2!==n&&(clearTimeout(r),t(e),r=null,n=1),e.ok)return e.json();throw new Error("Network response was not ok.")}).then(function(e){c=0,i(e)}).catch(function(e){0<c?(--c,setTimeout(function(){s()},5e3)):o()})})}()},layout:function(r){var s=$(r.el)[0];$(s).append('<div class="loading-wrap"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg><p></p></div>'),sitesjs.requestAPI(r.api,function(e){$(s).find(".loading-wrap").remove(),e.content.forEach(function(e,t){var n='<div class="site-card">';n+='<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer" href="'+e.url+'">',n+='<img src="'+(e.screenshot||"https://image.thum.io/get/width/1024/crop/768/"+e.url)+'" onerror="javascript:this.src=\''+r.screenshot+"';\"/>",n+='<div class="info">',n+='<img src="'+(e.avatar||r.avatar)+'" onerror="javascript:this.src=\''+r.avatar+"';\"/>",n+='<span class="title">'+e.title+"</span>",n+='<span class="desc">'+(e.description||e.url)+"</span>",n+="</div>",n+="</a>",n+="</div>",$(s).find(".group-body").append(n)})},function(){$(s).find(".loading-wrap svg").remove(),$(s).find(".loading-wrap p").text("加载失败，请稍后重试。")})}};$(function(){for(var e=document.getElementsByClassName("sitesjs-wrap"),t=0;t<e.length;t++){var n,r=e[t],s=r.getAttribute("api");null!=s&&((n=new Object).class=r.getAttribute("class"),n.el=r,n.api=s,n.avatar="https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/link/8f277b4ee0ecd.svg",n.screenshot="https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/cover/76b86c0226ffd.svg",sitesjs.layout(n))}});