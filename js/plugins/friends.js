"use strict";var friendsjs={requestAPI:function(i,o,s){var l=5;!function a(){return new Promise(function(e,n){var r=0,t=setTimeout(function(){0===r&&(r=2,t=null,n("请求超时"),0==l&&s())},5e3);fetch(i).then(function(n){if(2!==r&&(clearTimeout(t),e(n),t=null,r=1),n.ok)return n.json();throw new Error("Network response was not ok.")}).then(function(n){l=0,o(n)}).catch(function(n){0<l?(--l,setTimeout(function(){a()},5e3)):s()})})}()},layout:function(t){var a=$(t.el)[0];$(a).append('<div class="loading-wrap"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg><p></p></div>'),friendsjs.requestAPI(t.api,function(n){$(a).find(".loading-wrap").remove(),n.content.forEach(function(n,e){var r='<div class="user-card">';r+='<a class="card-link" target="_blank" rel="external nofollow noopener noreferrer"',r+=' href="'+n.url+'">',r+='<img src="'+(n.avatar||t.avatar)+'" onerror="javascript:this.src=\''+t.avatar+"';\">",r+='<div class="name"><span>'+n.title+"</span></div>",r+="</a>",r+="</div>",$(a).find(".group-body").append(r)})},function(){$(a).find(".loading-wrap svg").remove(),$(a).find(".loading-wrap p").text("加载失败，请稍后重试。")})}};$(function(){for(var n=document.getElementsByClassName("friendsjs-wrap"),e=0;e<n.length;e++){var r,t=n[e],a=t.getAttribute("api");null!=a&&((r=new Object).el=t,r.api=a,r.class=t.getAttribute("class"),r.avatar="https://cdn.jsdelivr.net/gh/cdn-x/placeholder@1.0.1/avatar/round/3442075.svg",friendsjs.layout(r))}});